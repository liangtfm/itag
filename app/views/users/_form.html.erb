<% action = (user.persisted? ? user_url(user) : users_url) %>
<% method = (user.persisted? ? "put" : "post") %>
<% message = (user.persisted? ? "Update user" : "Create user") %>

<form action="<%= action %>" method="post">
  <input
     name="_method"
     type="hidden"
     value="<%= method %>">
  <input
     name="authenticity_token"
     type="hidden"
     value="<%= form_authenticity_token %>">

  <label for="user_username">Username</label>
  <input
     id="user_username"
     name="user[username]"
     type="text"
     value="<%= @user.username %>">
  <br>

  <label for="user_email">Email</label>
  <input
     id="user_email"
     name="user[email]"
     type="text"
     value="<%= @user.email %>">
  <br>

  <label for="user_password">Password</label>
  <input
     id="user_password"
     name="user[password]"
     type="password">
  <br>

  <label for="user_bio">Biography</label><br>
<textarea rows="4"
          cols="50"
          id="user_bio"
          name="user[biography]"><%= @user.biography %></textarea>
  <br>

  <label for="user_location">Location</label>
  <input
     id="user_location"
     name="user[location]"
     type="text"
     value="<%= @user.location %>">
  <br>

  <label for="user_age">Age</label>
  <input
     id="user_age"
     name="user[age]"
     type="text"
     value="<%= @user.age %>">
  <br>

  <label for="user_gender">Gender</label>
  <input
     id="user_gender"
     name="user[gender]"
     type="radio"
     value="M" <%= "checked" if @user.gender == "M" %> >M</option>
   <input
      id="user_gender"
      name="user[gender]"
      type="radio"
      value="F">F</option>
  <br>

  <input type="submit" value="<%= message %>">
</form>